<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Britco Insulation Ltd | Free ECO4 & GBIS Upgrades</title>
    <meta name="description" content="Get free home energy upgrades through UK government ECO4 & GBIS schemes. Check your eligibility for insulation, heating systems, and more.">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Primary Meta Tags -->
    <title>Britco Insulation Ltd | Free Home Energy Upgrades (ECO4 & GBIS)</title>
    <meta name="title" content="Britco Insulation Ltd | Free Home Energy Upgrades (ECO4 & GBIS)">
    <meta name="description" content="Get free insulation, heating systems, and energy-saving upgrades under UK government ECO4 & GBIS schemes. Check if you qualify today!">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-website-url.com/">
    <meta property="og:title" content="Britco Insulation Ltd | Free Home Energy Upgrades (ECO4 & GBIS)">
    <meta property="og:description" content="Get free insulation, heating systems, and energy-saving upgrades under UK government ECO4 & GBIS schemes.">
    <meta property="og:image" content="https://your-website-url.com/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://your-website-url.com/">
    <meta property="twitter:title" content="Britco Insulation Ltd | Free Home Energy Upgrades (ECO4 & GBIS)">
    <meta property="twitter:description" content="Get free insulation, heating systems, and energy-saving upgrades under UK government ECO4 & GBIS schemes.">
    <meta property="twitter:image" content="https://your-website-url.com/og-image.jpg">
    <style>
        /* Modern Color Palette */
:root {
    --primary: #2E7D32;  /* British Racing Green */
    --primary-dark: #1B5E20;
    --primary-light: #81C784;
    --secondary: #0056B3; /* Deep Blue */
    --secondary-dark: #003B8E;
    --accent: #FFD700;   /* Gold */
    --accent-dark: #FFC600;
    --dark: #2D3748;
    --dark-gray: #4A5568;
    --light: #f9f9f9;
    --light-gray: #EDF2F7;
    --white: #FFFFFF;
    --service-1: #4CAF50; /* Green */
    --service-2: #2196F3; /* Blue */
    --service-3: #FF9800; /* Orange */
    --service-4: #9C27B0; /* Purple */
    --service-5: #E91E63; /* Pink */
    --service-6: #00BCD4; /* Cyan */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
    --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    --error: #e74c3c;
    --success: #2E7D32;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    line-height: 1.7;
    color: var(--dark);
    background-color: var(--light);
    overflow-x: hidden;
}

h1, h2, h3, h4 {
    font-family: 'Playfair Display', serif;
    font-weight: 600;
    line-height: 1.3;
}

a {
    text-decoration: none;
    color: inherit;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.section {
    padding: 100px 0;
}

.section-title {
    text-align: center;
    margin-bottom: 60px;
    position: relative;
}

.section-title h2 {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 15px;
}

.section-title p {
    max-width: 700px;
    margin: 0 auto;
    color: var(--dark-gray);
    font-size: 1.1rem;
}

.section-title::after {
    content: '';
    display: block;
    width: 80px;
    height: 4px;
    background: var(--accent);
    margin: 20px auto;
    border-radius: 2px;
}

.btn {
    display: inline-block;
    padding: 12px 30px;
    border-radius: 50px;
    font-weight: 600;
    text-align: center;
    transition: var(--transition);
    border: none;
    cursor: pointer;
}

.btn-primary {
    background: var(--accent);
    color: var(--dark);
}

.btn-primary:hover, .btn-primary:focus {
    background: var(--accent-dark);
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
    outline: none;
}

.btn-secondary {
    background: var(--primary);
    color: var(--white);
}

.btn-secondary:hover, .btn-secondary:focus {
    background: var(--primary-dark);
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
    outline: none;
}

/* Header & Navigation */
header {
    background: var(--white);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 1000;
    transition: var(--transition);
}

header.scrolled {
    box-shadow: var(--shadow-md);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0;
}

.logo-container {
    height: 100px;
    overflow: hidden;
    display: flex;
    align-items: center;
}

.logo {
    height: 200px;
    width: auto;
    transition: all 0.4s ease-in-out;
    animation: flash-glow 2s infinite alternate;
}

@media (prefers-reduced-motion: reduce) {
    .logo {
        animation: none;
    }
}

@keyframes flash-glow {
    0% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px #0b6b2b);
    }
    100% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 20px #0b6b2b);
    }
}

.nav-links {
    display: flex;
    gap: 30px;
}

.nav-links a {
    font-weight: 500;
    position: relative;
    padding: 5px 0;
}

.nav-links a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--primary);
    transition: var(--transition);
}

.nav-links a:hover::after,
.nav-links a:focus::after {
    width: 100%;
}

.mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--dark);
    cursor: pointer;
    transition: var(--transition);
}

.mobile-menu-btn:hover,
.mobile-menu-btn:focus {
    color: var(--primary);
    outline: none;
}

/* Hero Section */
.hero {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.5)), 
                url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80');
    background-size: cover;
    background-position: center;
    color: var(--white);
    text-align: center;
    padding: 180px 0;
    position: relative;
}

@media (max-width: 768px) {
    .hero {
        background-attachment: scroll;
    }
}

.hero::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(to top, var(--light), transparent);
}

.hero-content {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 20px;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    line-height: 1.2;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

.hero p {
    font-size: 1.3rem;
    margin-bottom: 30px;
    opacity: 0.9;
}

.hero-btns {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

/* Grants Section */
/* Enhanced Grants Section Styles */
.grants {
    background: linear-gradient(135deg, var(--light-gray) 0%, var(--white) 100%);
}

.grants-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin-bottom: 50px;
}

.grant-card {
    background: var(--white);
    border-radius: 12px;
    padding: 40px 30px;
    box-shadow: var(--shadow-lg);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
    z-index: 1;
    display: flex;
    flex-direction: column;
}

.grant-card.eco4 {
    border-top: 5px solid var(--primary);
}

.grant-card.gbis {
    border-top: 5px solid var(--secondary);
}

.grant-badge {
    position: absolute;
    top: 15px;
    right: -30px;
    background: var(--accent);
    color: var(--dark);
    padding: 5px 30px;
    font-size: 0.8rem;
    font-weight: 700;
    transform: rotate(45deg);
    width: 120px;
    text-align: center;
}

.grant-icon {
    font-size: 3rem;
    margin-bottom: 20px;
    color: var(--primary);
    transition: var(--transition);
}

.gbis .grant-icon {
    color: var(--secondary);
}

.grant-card h3 {
    font-size: 1.8rem;
    margin-bottom: 15px;
    color: var(--primary);
}

.gbis h3 {
    color: var(--secondary);
}

.grant-card p {
    color: var(--dark-gray);
    margin-bottom: 25px;
}

.grant-features {
    margin: 20px 0;
    flex-grow: 1;
}

.feature-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 12px;
    color: var(--dark-gray);
}

.feature-item i {
    color: var(--primary);
    margin-top: 3px;
    font-size: 0.9rem;
}

.gbis .feature-item i {
    color: var(--secondary);
}

.btn-outline {
    background: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
    align-self: flex-start;
    margin-top: auto;
}

.gbis .btn-outline {
    border-color: var(--secondary);
    color: var(--secondary);
}

.btn-outline:hover,
.btn-outline:focus {
    background: var(--primary);
    color: var(--white);
}

.gbis .btn-outline:hover,
.gbis .btn-outline:focus {
    background: var(--secondary);
}

/* Comparison Table Styles */
.grant-comparison {
    background: var(--white);
    border-radius: 12px;
    padding: 40px;
    box-shadow: var(--shadow-sm);
    margin-top: 30px;
}

.grant-comparison h3 {
    text-align: center;
    margin-bottom: 30px;
    color: var(--primary);
    font-size: 1.8rem;
}

.comparison-table {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    border: 1px solid var(--light-gray);
    border-radius: 8px;
    overflow: hidden;
}

.comparison-header {
    display: contents;
}

.comparison-header > div {
    background: var(--primary);
    color: var(--white);
    padding: 15px;
    font-weight: 600;
    text-align: center;
}

.comparison-header .comparison-eco4 {
    background: var(--primary-dark);
}

.comparison-header .comparison-gbis {
    background: var(--secondary-dark);
}

.comparison-row {
    display: contents;
}

.comparison-row > div {
    padding: 15px;
    border-bottom: 1px solid var(--light-gray);
    display: flex;
    align-items: center;
}

.comparison-feature {
    font-weight: 500;
    background: rgba(46, 125, 50, 0.05);
}

.comparison-eco4 {
    background: rgba(46, 125, 50, 0.03);
}

.comparison-gbis {
    background: rgba(0, 86, 179, 0.03);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .comparison-table {
        grid-template-columns: 1fr;
    }
    
    .comparison-header,
    .comparison-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    
    .comparison-header > div:first-child,
    .comparison-row > div:first-child {
        grid-column: 1 / span 2;
        background: var(--primary);
        color: var(--white);
        text-align: center;
    }
    
    .comparison-row > div:first-child {
        background: rgba(46, 125, 50, 0.1);
        color: var(--dark);
        font-weight: 500;
    }
    
    .grant-comparison {
        padding: 25px 15px;
    }
}

/* About Section */
.about {
    background: var(--light-gray);
}

.about-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    align-items: center;
}

.about-text h2 {
    font-size: 2.2rem;
    color: var(--primary);
    margin-bottom: 20px;
}

.about-text p {
    margin-bottom: 20px;
    color: var(--dark-gray);
}

.about-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 30px;
}

.stat-item {
    background: var(--white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: var(--shadow-sm);
    text-align: center;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 5px;
}

.stat-label {
    color: var(--dark-gray);
    font-size: 0.9rem;
}

.image-gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.gallery-item {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    position: relative;
    height: 200px;
}

.gallery-item:first-child {
    grid-row: span 2;
    height: 415px;
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--transition);
}

.gallery-item:hover img,
.gallery-item:focus-within img {
    transform: scale(1.05);
}

/* Services Section */
.services {
    background: var(--white);
}

.services-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
}

.service-card {
    background: var(--white);
    border-radius: 10px;
    padding: 40px 30px;
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    text-align: center;
    position: relative;
    overflow: hidden;
    border-top: 5px solid;
}

.service-card:nth-child(1) {
    border-color: var(--service-1);
}
.service-card:nth-child(2) {
    border-color: var(--service-2);
}
.service-card:nth-child(3) {
    border-color: var(--service-3);
}
.service-card:nth-child(4) {
    border-color: var(--service-4);
}
.service-card:nth-child(5) {
    border-color: var(--service-5);
}
.service-card:nth-child(6) {
    border-color: var(--service-6);
}

.service-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    opacity: 0;
    z-index: 0;
    transition: var(--transition);
}

.service-card:hover,
.service-card:focus-within {
    transform: translateY(-10px);
    box-shadow: var(--shadow-lg);
    color: var(--white);
}

.service-card:hover::before,
.service-card:focus-within::before {
    opacity: 1;
}

.service-card:hover h3,
.service-card:hover p,
.service-card:hover .service-icon,
.service-card:focus-within h3,
.service-card:focus-within p,
.service-card:focus-within .service-icon {
    color: var(--white);
    position: relative;
    z-index: 1;
}

.service-icon {
    font-size: 3rem;
    margin-bottom: 20px;
    color: var(--primary);
    transition: var(--transition);
}

.service-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    transition: var(--transition);
}

.service-card p {
    color: var(--dark-gray);
    transition: var(--transition);
}

/* Eligibility Form Styles */
.eligibility-form {
    background: var(--white);
    border-radius: 10px;
    padding: 50px;
    box-shadow: var(--shadow-sm);
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
}

.form-progress {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: var(--light-gray);
    display: none;
}

.form-progress-bar {
    height: 100%;
    width: 0;
    background: var(--primary);
    transition: width 0.3s ease;
}

.form-message {
    padding: 15px 20px;
    margin-bottom: 25px;
    border-radius: 6px;
    font-size: 0.95rem;
    align-items: center;
    gap: 10px;
    display: none;
}

.form-message i {
    font-size: 1.2rem;
}

.form-message.success {
    background: rgba(46, 125, 50, 0.1);
    color: var(--success);
    border: 1px solid var(--success);
    display: flex;
}

.form-message.error {
    background: rgba(231, 76, 60, 0.1);
    color: var(--error);
    border: 1px solid var(--error);
    display: flex;
}

.form-title {
    text-align: center;
    margin-bottom: 30px;
}

.form-title h3 {
    font-size: 1.8rem;
    color: var(--primary);
    margin-bottom: 10px;
}

.form-title p {
    color: var(--dark-gray);
}

.form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.form-group {
    flex: 1;
    margin-bottom: 5px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--dark);
    font-size: 0.95rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-family: inherit;
    transition: var(--transition);
    background: var(--light-gray);
    font-size: 0.95rem;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
}

.form-group.has-error input,
.form-group.has-error select,
.form-group.has-error textarea {
    border-color: var(--error);
}

.error-message {
    color: var(--error);
    font-size: 0.8rem;
    margin-top: 5px;
    display: none;
}

.form-group.has-error .error-message {
    display: block;
}

.privacy-checkbox {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin-top: 15px;
    padding: 10px;
    border-radius: 6px;
    background: var(--light-gray);
    transition: var(--transition);
}

.privacy-checkbox:hover {
    background: #e1e8ed;
}

.form-group.has-error .privacy-checkbox {
    background: rgba(231, 76, 60, 0.1);
}

.privacy-checkbox input {
    width: auto;
    margin-top: 3px;
}

.privacy-checkbox label {
    font-weight: normal;
    font-size: 0.85rem;
    color: var(--dark-gray);
}

.privacy-checkbox label a {
    color: var(--primary);
    text-decoration: underline;
}

.form-submit {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 300px;
    margin: 30px auto 0;
    padding: 15px;
    font-size: 1.1rem;
    position: relative;
}

.btn-text {
    transition: opacity 0.3s ease;
}

.btn-loading {
    position: absolute;
    display: none;
    align-items: center;
    gap: 8px;
}
/* Contact Section */
.contact {
    background: var(--light-gray);
}

.contact-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 50px;
}

.contact-info {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.contact-item {
    display: flex;
    align-items: flex-start;
    gap: 15px;
}

.contact-icon {
    font-size: 1.5rem;
    color: var(--primary);
    margin-top: 3px;
}

.contact-details h3 {
    font-size: 1.3rem;
    margin-bottom: 5px;
}

.contact-details p, 
.contact-details a {
    color: var(--dark-gray);
    transition: var(--transition);
}

.contact-details a:hover,
.contact-details a:focus {
    color: var(--primary);
    outline: none;
}

.contact-map {
    height: 100%;
    min-height: 300px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
}

.contact-map iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* Footer */
footer {
    background: var(--dark);
    color: var(--white);
    padding: 80px 0 30px;
}

.footer-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 40px;
    margin-bottom: 50px;
}

.footer-col h3 {
    font-size: 1.3rem;
    margin-bottom: 20px;
    color: var(--accent);
}

.footer-links {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.footer-links a {
    color: #cbd5e0;
    transition: var(--transition);
}

.footer-links a:hover,
.footer-links a:focus {
    color: var(--accent);
    padding-left: 5px;
    outline: none;
}

.social-links {
    display: flex;
    gap: 15px;
    margin-top: 20px;
}

.social-links a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    color: var(--white);
    transition: var(--transition);
}

.social-links a:hover,
.social-links a:focus {
    background: var(--accent);
    color: var(--dark);
    transform: translateY(-3px);
    outline: none;
}

.footer-bottom {
    text-align: center;
    padding-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    color: #cbd5e0;
    font-size: 0.9rem;
}

/* Back to Top Button */
.back-to-top {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--primary);
    color: var(--white);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    box-shadow: var(--shadow-md);
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
    z-index: 999;
}

.back-to-top.active {
    opacity: 1;
    visibility: visible;
}

.back-to-top:hover,
.back-to-top:focus {
    background: var(--primary-dark);
    transform: translateY(-3px);
    outline: none;
}

/* Responsive Adjustments */
@media (max-width: 992px) {
    .section {
        padding: 80px 0;
    }
    
    .about-content {
        grid-template-columns: 1fr;
    }
    
    .gallery-item:first-child {
        height: 200px;
    }
}

@media (max-width: 768px) {
    .section {
        padding: 60px 0;
    }
    
    .section-title h2 {
        font-size: 2rem;
    }
    
    .hero {
        padding: 120px 0;
    }
    
    .hero h1 {
        font-size: 2.5rem;
    }
    
    .hero p {
        font-size: 1.1rem;
    }
    
    .nav-links {
        position: fixed;
        top: 80px;
        left: -100%;
        width: 100%;
        height: calc(100vh - 80px);
        background: var(--white);
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 30px;
        transition: var(--transition);
        z-index: 999;
    }
    
    .nav-links.active {
        left: 0;
    }
    
    .mobile-menu-btn {
        display: block;
    }
    
    .eligibility-form {
        padding: 30px 20px;
    }
    
    .form-row {
        flex-direction: column;
        gap: 15px;
    }
}

@media (max-width: 576px) {
    .section {
        padding: 50px 0;
    }
    
    .section-title h2 {
        font-size: 1.8rem;
    }
    
    .hero h1 {
        font-size: 2rem;
    }
    
    .hero-btns {
        flex-direction: column;
        align-items: center;
    }
    
    .grants-grid,
    .services-container {
        grid-template-columns: 1fr;
    }
    
    .eligibility-form {
        padding: 25px 15px;
    }
    
    .form-title h3 {
        font-size: 1.5rem;
    }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Focus styles for accessibility */
a:focus,
button:focus,
input:focus,
select:focus,
textarea:focus {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Skip to content link for keyboard users */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--primary);
    color: white;
    padding: 8px;
    z-index: 100;
    transition: top 0.3s;
}

.skip-link:focus {
    top: 0;
}
    </style>
</head>
<body>
    <!-- Header -->
    <header id="header">
        <div class="container">
           <nav>               
            <div class="logo-container">
                <img src="britco-logo.png" alt="Britco Insulation Logo" class="logo" loading="lazy">
              </div>
                <div class="nav-links">
                    <a href="#home">Home</a>
                    <a href="#grants">Grants</a>
                    <a href="#about">About Us</a>
                    <a href="#services">Services</a>
                    <a href="#eligibility">Eligibility</a>
                    <a href="#contact">Contact</a>
                </div>
                
                <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Transform Your Home With Free Energy Upgrades</h1>
            <p>Under the UK Government's ECO4 & GBIS schemes, you may qualify for free insulation, heating systems, and more to make your home warmer and reduce energy bills.</p>
            <div class="hero-btns">
                <a href="#eligibility" class="btn btn-primary">Check Your Eligibility</a>
                <a href="#services" class="btn btn-secondary">Our Services</a>
            </div>
        </div>
    </section>

    <!-- Enhanced Grants Section -->
<section id="grants" class="section grants">
    <div class="container">
        <div class="section-title">
            <h2>Government Grants We Offer</h2>
            <p>We help homeowners access government-funded energy efficiency schemes to improve home comfort and reduce energy costs.</p>
        </div>
        
        <div class="grants-grid">
            <div class="grant-card eco4">
                <div class="grant-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="grant-badge">Most Popular</div>
                <h3>ECO4 Scheme</h3>
                <p>For homeowners and private tenants. Includes free loft insulation, Wall insulation, and boiler upgrades for eligible households.</p>
                <div class="grant-features">
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Free Insulation Upgrades</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Boiler Replacements</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>First-time Central Heating</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Available across England, Scotland & Wales</span>
                    </div>
                </div>
                <a href="#eligibility" class="btn btn-outline">Check ECO4 Eligibility</a>
            </div>
            
            <div class="grant-card gbis">
                <div class="grant-icon">
                    <i class="fas fa-hand-holding-heart"></i>
                </div>
                <div class="grant-badge">New Scheme</div>
                <h3>GBIS Scheme</h3>
                <p>For low-income families and those receiving benefits. Covers first-time central heating, air source heat pumps, and more.</p>
                <div class="grant-features">
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Loft Insulation</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Cavity Wall Insulation</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Heating Controls</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Flat Roof Insulation</span>
                    </div>
                </div>
                <a href="#eligibility" class="btn btn-outline">Check GBIS Eligibility</a>
            </div>
        </div>

        <div class="grant-comparison">
            <h3>Scheme Comparison</h3>
            <div class="comparison-table">
                <div class="comparison-header">
                    <div class="comparison-feature">Feature</div>
                    <div class="comparison-eco4">ECO4</div>
                    <div class="comparison-gbis">GBIS</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-feature">Who qualifies?</div>
                    <div class="comparison-eco4">Homeowners & private tenants receiving benefits</div>
                    <div class="comparison-gbis">Low-income households & benefit recipients</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-feature">Main benefits</div>
                    <div class="comparison-eco4">Insulation, boiler upgrades, heating systems</div>
                    <div class="comparison-gbis">Loft insulation, Flat-Roof Insulation, high-efficiency heating systems</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-feature">Property type</div>
                    <div class="comparison-eco4">All property types</div>
                    <div class="comparison-gbis">Primarily homes with poor EPC ratings</div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- About Section -->
    <section id="about" class="section about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About Britco Insulation</h2>
                    <p>As a trusted UK leader in energy efficiency, Britco Insulation Ltd specializes in ECO4 and GBIS government grants. Our certified installers have upgraded thousands of homes, helping families save hundreds annually on energy bills.</p>
                    <p>We're committed to delivering high-quality insulation and heating solutions while providing exceptional customer service throughout the entire process.</p>
                    
                    <div class="about-stats">
                        <div class="stat-item">
                            <div class="stat-number">5,000+</div>
                            <div class="stat-label">Homes Upgraded</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">£300+</div>
                            <div class="stat-label">Annual Savings</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">98%</div>
                            <div class="stat-label">Customer Satisfaction</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">15+</div>
                            <div class="stat-label">Years Experience</div>
                        </div>
                    </div>
                </div>
                
                <div class="image-gallery">
                    <div class="gallery-item">
                        <img src="Engineer.jpg" alt="Insulation installation in progress" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="House.jpg" alt="New energy efficient boiler installation" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="insuation.jpg" alt="Air source heat pump unit" loading="lazy">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="section services">
        <div class="container">
            <div class="section-title">
                <h2>Our Services</h2>
                <p>We provide comprehensive energy efficiency solutions to make your home warmer, reduce energy bills, and lower your carbon footprint.</p>
            </div>
            
            <div class="services-container">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3>Free Loft & Cavity Wall Insulation</h3>
                    <p>High-quality insulation materials professionally installed to keep your home warm and reduce energy bills.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <h3>Boiler Replacements</h3>
                    <p>Energy-efficient boiler upgrades and first-time central heating installations for eligible households.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-snowflake"></i>
                    </div>
                    <h3>Solid Wall Insualation</h3>
                    <p>Solid wall insulation involves adding insulating material to the inside or outside of solid walls to improve energy efficiency and reduce heat loss.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <h3>Room-in-Roof Insulation</h3>
                    <p>Specialized insulation for converted lofts and attic rooms to maximize energy efficiency.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-border-style"></i>
                    </div>
                    <h3>Underfloor Insulation</h3>
                    <p>Reduce heat loss through your floors with our professional underfloor insulation solutions.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3>Energy Performance Certificates</h3>
                    <p>Official EPC assessments to help you understand and improve your home's energy efficiency.</p>
                </div>
            </div>
        </div>
    </section>
    <!-- Eligibility Section -->
   <section id="eligibility" class="section eligibility">
        <div class="container">
            <div class="section-title">
                <h2>Check Your Eligibility</h2>
                <p>Complete this form to see if you qualify for free energy efficiency upgrades under government schemes.</p>
            </div>
            
            <div class="eligibility-form">
                <!-- Progress Bar -->
                <div class="form-progress" id="formProgress" style="display: none;">
                    <div class="form-progress-bar" id="formProgressBar" style="width: 0%;"></div>
                </div>
                
                <!-- Success Message (Hidden by Default) -->
                <div class="form-message success" id="successMessage" role="alert" aria-live="polite" hidden>
                    <i class="fas fa-check-circle"></i> 
                    <div>Thank you! Your eligibility is being checked. A Britco advisor will contact you within 24 hours.</div>
                </div>
                
                <!-- Error Message (Hidden by Default) -->
                <div class="form-message error" id="errorMessage" role="alert" aria-live="assertive" hidden>
                    <i class="fas fa-exclamation-circle"></i> 
                    <div>There was an error submitting your form. Please try again or contact us directly.</div>
                </div>
                
                <!-- Form Title -->
                <div class="form-title">
                    <h3>Eligibility Checker</h3>
                    <p>It only takes 2 minutes to see if you qualify for free home improvements</p>
                </div>
                <form id="eligibilityForm" novalidate>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName">Full Name*</label>
                            <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name" aria-required="true">
                            <div class="error-message">Please enter your full name</div>
                        </div>
                        <div class="form-group">
                            <label for="email">Email*</label>
                            <input type="email" id="email" name="email" required placeholder="Enter your email address" aria-required="true">
                            <div class="error-message">Please enter a valid email address</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number*</label>
                            <input type="tel" id="phone" name="phone" required 
                                   placeholder="Enter your UK phone number" 
                                   pattern="^(\+44\s?7\d{3}|\(?07\d{3}\)?)\s?\d{3}\s?\d{3}$"
                                   aria-required="true">
                            <div class="error-message">Please enter a valid UK phone number (e.g. 07123 456789 or +44 7123 456789)</div>
                        </div>
                        <div class="form-group">
                            <label for="dob">Date of Birth*</label>
                            <input type="date" id="dob" name="dob" required aria-required="true">
                            <div class="error-message">Please enter your date of birth</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="houseType">House Type*</label>
                            <select id="houseType" name="houseType" required aria-required="true">
                                <option value="">Select your house type</option>
                                <option value="detached">Detached</option>
                                <option value="semi-detached">Semi-Detached</option>
                                <option value="terraced">Terraced</option>
                                <option value="flat">Flat/Apartment</option>
                                <option value="bungalow">Bungalow</option>
                                <option value="cottage">Cottage</option>
                            </select>
                            <div class="error-message">Please select your house type</div>
                        </div>
                        <div class="form-group">
                            <label for="bedrooms">Number of Bedrooms*</label>
                            <select id="bedrooms" name="bedrooms" required aria-required="true">
                                <option value="">Select number of bedrooms</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5+">5+</option>
                            </select>
                            <div class="error-message">Please select number of bedrooms</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bathrooms">Number of Bathrooms*</label>
                            <select id="bathrooms" name="bathrooms" required aria-required="true">
                                <option value="">Select number of bathrooms</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3+</option>
                            </select>
                            <div class="error-message">Please select number of bathrooms</div>
                        </div>
                        <div class="form-group">
                            <label for="heating">Main Heating System*</label>
                            <select id="heating" name="heating" required aria-required="true">
                                <option value="">Select your heating system</option>
                                <option value="gas">Gas Boiler</option>
                                <option value="electric">Electric Storage Heaters</option>
                                <option value="oil">Oil Boiler</option>
                                <option value="lpg">LPG Boiler</option>
                                <option value="none">No Central Heating</option>
                            </select>
                            <div class="error-message">Please select your heating system</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="benefits">Are you receiving any benefits?*</label>
                        <select id="benefits" name="benefits" required aria-required="true">
                            <option value="">Select if you receive benefits</option>
                            <optgroup label="Common Qualifying Benefits">
                                <option value="universal-credit">Universal Credit</option>
                                <option value="pension-credit">Pension Credit</option>
                                <option value="income-support">Income Support</option>
                            </optgroup>
                            <optgroup label="Other Benefits">
                                <option value="jobseekers">Jobseeker's Allowance</option>
                                <option value="esa">Employment Support Allowance</option>
                                <option value="child-tax">Child Tax Credit</option>
                                <option value="working-tax">Working Tax Credit</option>
                                <option value="housing-benefit">Housing Benefit</option>
                                <option value="none">None</option>
                            </optgroup>
                        </select>
                        <div class="error-message">Please select your benefits status</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="doorNumber">Door Number*</label>
                            <input type="text" id="doorNumber" name="doorNumber" required placeholder="Enter your door number" aria-required="true">
                            <div class="error-message">Please enter your door number</div>
                        </div>
                        <div class="form-group">
                            <label for="street">Street Name</label>
                            <input type="text" id="street" name="street" placeholder="Enter your street name">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="postcode">Postcode*</label>
                            <input type="text" id="postcode" name="postcode" required 
                                   placeholder="Enter your UK postcode" 
                                   pattern="^[A-Za-z]{1,2}[0-9][A-Za-z0-9]? ?[0-9][A-Za-z]{2}$"
                                   aria-required="true">
                            <div class="error-message">Please enter a valid UK postcode (e.g. SW1A 1AA or M1 1AA)</div>
                        </div>
                        <div class="form-group">
                            <label for="town">Town/City*</label>
                            <input type="text" id="town" name="town" required placeholder="Enter your town/city" aria-required="true">
                            <div class="error-message">Please enter your town/city</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="privacy-checkbox">
                            <input type="checkbox" id="privacyAgreement" name="privacyAgreement" required aria-required="true">
                            <label for="privacyAgreement">I agree to the <a href="#" target="_blank">Privacy Policy</a> and consent to Britco Insulation contacting me about energy efficiency schemes. I understand my data will be processed in accordance with GDPR regulations.*</label>
                        </div>
                        <div class="error-message">You must agree to the privacy policy</div>
                    </div>
                    
                    <button type="submit" class="btn btn-secondary form-submit" id="submitBtn">
                        <span class="btn-text">Check Eligibility</span>
                        <span class="btn-loading">
                            <i class="fas fa-spinner fa-spin"></i> Processing...
                        </span>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section contact">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Get in touch with our friendly team to discuss your energy efficiency needs.</p>
            </div>
            
            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone</h3>
                            <a href="tel:02031484628">0203 148 4628</a>
                            <p>Monday to Friday, 9am to 5pm</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <a href="mailto:info@britcoinsulation.co.uk">info@britcoinsulation.co.uk</a>
                            <p>We typically respond within 24 hours</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Office</h3>
                            <p>71-75 Shelton Street Covent Garden<br>London, WC2H 9JQ</p>
                            <p>By appointment only</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Opening Hours</h3>
                            <p>Monday - Friday: 9am - 5pm</p>
                            <p>Saturday: 10am - 2pm</p>
                            <p>Sunday: Closed</p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2482.388022921247!2d-0.1277583235741669!3d51.52855837181466!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48761b323093d307%3A0x2fb199016d5642a7!2sLondon%20N1%202AB%2C%20UK!5e0!3m2!1sen!2sus!4v1690836778789!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Britco Insulation Office Location"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Britco Insulation</h3>
                    <p>Helping UK homeowners access free energy efficiency upgrades through government schemes since 2008.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <div class="footer-links">
                        <a href="#home">Home</a>
                        <a href="#grants">Grants</a>
                        <a href="#about">About Us</a>
                        <a href="#services">Services</a>
                        <a href="#eligibility">Eligibility Check</a>
                        <a href="#contact">Contact</a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Legal</h3>
                    <div class="footer-links">
                        <a href="#">Privacy Policy</a>
                        <a href="#">Terms & Conditions</a>
                        <a href="#">Cookies Policy</a>
                        <a href="#">Complaints Procedure</a>
                        <a href="#">Accreditations</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Britco Insulation Ltd. All rights reserved. | Registered in England & Wales No. 16412827</p>
            </div>
        </div>
    </footer>
    
    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="backToTop" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </a>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('.nav-links');
        
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileMenuBtn.innerHTML = navLinks.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            mobileMenuBtn.setAttribute('aria-expanded', navLinks.classList.contains('active'));
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
            });
        });
        
        // Header scroll effect
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // Back to top button
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('active');
            } else {
                backToTopBtn.classList.remove('active');
            }
        });
        
        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
    <script>
    // Form Submission with Validation - Updated Version
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('eligibilityForm');
        const formProgress = document.getElementById('formProgress');
        const formProgressBar = document.getElementById('formProgressBar');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        const submitBtn = document.getElementById('submitBtn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');

        // Initialize elements
        formProgress.style.display = 'none';
        successMessage.hidden = true;
        errorMessage.hidden = true;
        btnLoading.hidden = true;

        // UK Postcode Validation
        function validatePostcode(postcode) {
            const regex = /^[A-Za-z]{1,2}[0-9][A-Za-z0-9]? ?[0-9][A-Za-z]{2}$/i;
            return regex.test(postcode);
        }

        // UK Phone Number Validation
        function validatePhone(phone) {
            const regex = /^(\+44\s?7\d{3}|\(?07\d{3}\)?)\s?\d{3}\s?\d{3}$/;
            return regex.test(phone);
        }

        // Validate date of birth (must be at least 18 years old)
        function validateDOB(dob) {
            const birthDate = new Date(dob);
            const currentDate = new Date();
            const minAgeDate = new Date(
                currentDate.getFullYear() - 18,
                currentDate.getMonth(),
                currentDate.getDate()
            );
            return birthDate <= minAgeDate;
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Reset form state
            successMessage.hidden = true;
            errorMessage.hidden = true;
            document.querySelectorAll('.form-group').forEach(group => {
                group.classList.remove('has-error');
            });
            
            // Validate form
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const formGroup = field.closest('.form-group');
                const errorMessageEl = formGroup.querySelector('.error-message');
                
                // Reset error messages
                if (errorMessageEl) {
                    errorMessageEl.textContent = 'This field is required';
                }
                
                // Check required fields
                if (!field.value || (field.type === 'checkbox' && !field.checked)) {
                    formGroup.classList.add('has-error');
                    isValid = false;
                }
                
                // Special validation for phone
                if (field.id === 'phone' && field.value && !validatePhone(field.value)) {
                    formGroup.classList.add('has-error');
                    if (errorMessageEl) {
                        errorMessageEl.textContent = 'Please enter a valid UK phone number (e.g. 07123 456789 or +44 7123 456789)';
                    }
                    isValid = false;
                }
                
                // Special validation for postcode
                if (field.id === 'postcode' && field.value && !validatePostcode(field.value)) {
                    formGroup.classList.add('has-error');
                    if (errorMessageEl) {
                        errorMessageEl.textContent = 'Please enter a valid UK postcode (e.g. SW1A 1AA or M1 1AA)';
                    }
                    isValid = false;
                }
                
                // Validate date of birth
                if (field.id === 'dob' && field.value && !validateDOB(field.value)) {
                    formGroup.classList.add('has-error');
                    if (errorMessageEl) {
                        errorMessageEl.textContent = 'You must be at least 18 years old';
                    }
                    isValid = false;
                }
            });
            
            if (!isValid) {
                formProgress.style.display = 'none';
                btnText.hidden = false;
                btnLoading.hidden = true;
                submitBtn.disabled = false;
                formProgressBar.style.width = '0';
                
                errorMessage.hidden = false;
                errorMessage.querySelector('div').textContent = 'Please correct the errors in the form';
                errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            // Show loading state
            formProgress.style.display = 'block';
            btnText.hidden = true;
            btnLoading.hidden = false;
            submitBtn.disabled = true;
            
            try {
                // Simulate progress (remove in production)
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 10;
                    formProgressBar.style.width = `${progress}%`;
                    if (progress >= 90) clearInterval(progressInterval);
                }, 100);
                
                // Collect form data
                const formData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    dob: document.getElementById('dob').value,
                    houseType: document.getElementById('houseType').value,
                    bedrooms: document.getElementById('bedrooms').value,
                    bathrooms: document.getElementById('bathrooms').value,
                    heating: document.getElementById('heating').value,
                    benefits: document.getElementById('benefits').value,
                    doorNumber: document.getElementById('doorNumber').value,
                    street: document.getElementById('street').value,
                    postcode: document.getElementById('postcode').value,
                    town: document.getElementById('town').value,
                    privacyAgreement: document.getElementById('privacyAgreement').checked
                };
                
                // Send to Google Apps Script
                const response = await fetch('https://script.google.com/macros/s/AKfycbyZYcMQXOwSQxvt4xguAbZKYbLEC-trBI0oI6jze9WWsOPahvUC_DsC8PecKoNWzgyB9g/exec', {
                    method: 'POST',
                    body: JSON.stringify(formData),
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    redirect: 'follow'
                });
                
                const result = await response.json();
                
                if (result.status === "success") {
                    formProgressBar.style.width = '100%';
                    successMessage.hidden = false;
                    form.reset();
                    successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    throw new Error(result.message || 'Submission failed');
                }
                
            } catch (error) {
                console.error('Error:', error);
                errorMessage.hidden = false;
                errorMessage.querySelector('div').textContent = 
                    error.message || 'Submission failed. Please try again.';
                formProgressBar.style.width = '0';
                errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } finally {
                btnText.hidden = false;
                btnLoading.hidden = true;
                submitBtn.disabled = false;
            }
        });
    });
</script>
</body>
